# FinnewsHunter 环境变量配置模板
# 复制此文件为 .env 并填入实际值

# ===== 应用配置 =====
APP_NAME=FinnewsHunter
APP_VERSION=0.1.0
DEBUG=True

# ===== 服务器配置 =====
HOST=0.0.0.0
PORT=8000

# ===== 数据库配置 =====
POSTGRES_USER=finnews
POSTGRES_PASSWORD=finnews_dev_password
POSTGRES_HOST=localhost
POSTGRES_PORT=5432
POSTGRES_DB=finnews_db

REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_DB=0

MILVUS_HOST=localhost
MILVUS_PORT=19530
MILVUS_COLLECTION_NAME=finnews_embeddings

# ⚠️ 重要：向量维度必须与 Embedding 模型匹配
# - OpenAI text-embedding-ada-002: 1536 维
# - 百炼 text-embedding-v4: 1024 维
MILVUS_DIM=1536

# ==========================================
# LLM 和 Embedding 配置
# ==========================================
# 支持多种服务商，选择一种配置即可
# 提示：百炼提供 OpenAI 兼容 API，设置 LLM_PROVIDER=openai 即可

# ===== 方案 1: OpenAI 官方（默认）=====
LLM_PROVIDER=openai
LLM_MODEL=gpt-3.5-turbo
LLM_TEMPERATURE=0.7
LLM_MAX_TOKENS=2000
OPENAI_API_KEY=sk-your-openai-api-key-here
# OPENAI_BASE_URL=  # 留空使用官方 API

EMBEDDING_PROVIDER=openai
EMBEDDING_MODEL=text-embedding-ada-002
EMBEDDING_BATCH_SIZE=100
# EMBEDDING_BASE_URL=  # 留空使用官方 API

# ===== 方案 2: 阿里云百炼（推荐国内用户）=====
# 取消注释下面的配置，并注释掉上面的配置
# LLM_PROVIDER=openai
# LLM_MODEL=qwen-plus
# LLM_TEMPERATURE=0.7
# LLM_MAX_TOKENS=2000
# LLM_TIMEOUT=180  # 百炼超时时间（秒），建议 180-300
# OPENAI_API_KEY=sk-your-bailian-api-key
# OPENAI_BASE_URL=https://dashscope.aliyuncs.com/compatible-mode/v1

# EMBEDDING_PROVIDER=openai
# EMBEDDING_MODEL=text-embedding-v4
# EMBEDDING_BATCH_SIZE=100
# EMBEDDING_BASE_URL=https://dashscope.aliyuncs.com/compatible-mode/v1

# ⚠️ 使用百炼时必须修改：MILVUS_DIM=1024

# ===== 方案 3: 其他 OpenAI 代理 =====
# LLM_PROVIDER=openai
# LLM_MODEL=gpt-3.5-turbo
# OPENAI_API_KEY=sk-your-proxy-key
# OPENAI_BASE_URL=https://your-proxy.com/v1

# EMBEDDING_PROVIDER=openai
# EMBEDDING_MODEL=text-embedding-ada-002
# 可以不设置 EMBEDDING_BASE_URL，使用官方 embedding

# ===== 方案 4: 本地 Ollama =====
# LLM_PROVIDER=ollama
# LLM_MODEL=llama2
# OPENAI_BASE_URL=http://localhost:11434/v1

# ===== 爬虫配置 =====
CRAWLER_TIMEOUT=30
CRAWLER_MAX_RETRIES=3
CRAWLER_DELAY=1.0

# ===== 安全配置 =====
SECRET_KEY=your-secret-key-here-please-change-in-production
ACCESS_TOKEN_EXPIRE_MINUTES=10080

# ===== 日志配置 =====
LOG_LEVEL=INFO
LOG_FILE=logs/finnews.log

# ===== 业务配置 =====
MAX_NEWS_PER_REQUEST=50
NEWS_CACHE_TTL=3600

